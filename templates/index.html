<!DOCTYPE html>
<html>
<head>
    <title>Safeguard Map</title>
    <!--Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="static/css/jquery-jvectormap-2.0.2.css">
    <link rel="stylesheet" type="text/css" href="static/css/styles.css">
    
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="static/js/jquery-jvectormap-2.0.2.min.js"></script>
    <script type="text/javascript" src="static/js/jquery-jvectormap-us-aea-en.js"></script>
</head>
    
<body>
    <nav class="navbar navbar-inverse" style="margin-bottom: 0px">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="/">Safeguard</a>
        </div>
        
        <ul class="nav navbar-nav">
            <li class="active"><a href="/">Map</a></li>
            <li><a href="/register">Subscribe</a></li>
            <li><a href="/view">View Safety Threats</a></li>
        </ul>
    </div>
    </nav>
    
    <div class="container">
        <div id="world-map" class="map"></div>
        <div class="cover">
            <div class="center-text">
                <h1>Safeguard</h1>
                <h2 class="site-description"><i>Crowdsourced data sharing for tracking security/safety threats</i></h2>
                <!--<input type="submit" class="btn btn-success btn-lg" value="Sign In">
                <input type="submit" class="btn btn-success btn-lg" value="Sign Up">-->
                <a href="/register">
                    <input type="submit" class="btn btn-success btn-lg" style="padding-left: 60px; padding-right: 60px" value="Sign Up">
                </a>
                <a href="/view">
                    <input type="submit" class="btn btn-success btn-lg" value="View Safety Threats">
                </a>
            </div>
        </div>
        
        <script>
            //console.log({{ coords|safe }});
            $(function(){
                var colors = ['red', 'blue', 'orange', 'green', 'purple'];
                
                $('#world-map').vectorMap({
                    map: 'us_aea_en',
                    scaleColors: ['#C8EEFF', '#0071A4'],
                    normalizeFunction: 'polynomial',
                    hoverOpacity: 0.7,
                    markersSelectable: true,
                    hoverColor: false,
                    markerStyle: {
                        initial: {
                            fill: colors[(Math.floor(Math.random() * 5))]
                        },
                    },
                    
                    onMarkerClick: function(e, code){
                        window.alert("sometext");
                    },
                
                    backgroundColor: '#4c4cff',
                    markers: {{ coords|safe }}
                });
            });
        </script>
        
        <script>
            $(document).ready(function() {
                $('body').click(function () {
                    $('.cover').fadeOut(500);
                });
            });
        </script>
        </div>
    </body>
</html>